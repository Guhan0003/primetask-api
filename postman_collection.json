{
	"info": {
		"_postman_id": "primetask-api-collection",
		"name": "PrimeTask API",
		"description": "A scalable REST API with JWT Authentication and Role-Based Access Control.\n\n## Getting Started\n1. Register a new user or use admin credentials\n2. Login to get JWT tokens\n3. Use the access token in Authorization header\n4. Refresh token when expired\n\n## Default Admin Credentials\n- Email: admin@example.com\n- Password: admin123\n\n## Authentication\nAll protected endpoints require:\n`Authorization: Bearer <access_token>`",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "base_url",
			"value": "http://127.0.0.1:8000/api/v1",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Authentication",
			"description": "User authentication endpoints including registration, login, logout, and token refresh.",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"testuser@example.com\",\n    \"username\": \"testuser\",\n    \"password\": \"TestPass123!\",\n    \"password_confirm\": \"TestPass123!\",\n    \"first_name\": \"Test\",\n    \"last_name\": \"User\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register/",
							"host": ["{{base_url}}"],
							"path": ["auth", "register", ""]
						},
						"description": "Register a new user account. Returns user details and JWT tokens."
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.access) {",
									"    pm.collectionVariables.set('access_token', jsonData.access);",
									"}",
									"if (jsonData.refresh) {",
									"    pm.collectionVariables.set('refresh_token', jsonData.refresh);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login/",
							"host": ["{{base_url}}"],
							"path": ["auth", "login", ""]
						},
						"description": "Login with email and password. Returns access and refresh JWT tokens."
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.access) {",
									"    pm.collectionVariables.set('access_token', jsonData.access);",
									"}",
									"if (jsonData.refresh) {",
									"    pm.collectionVariables.set('refresh_token', jsonData.refresh);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refresh\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/refresh/",
							"host": ["{{base_url}}"],
							"path": ["auth", "refresh", ""]
						},
						"description": "Refresh access token using refresh token."
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refresh\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/logout/",
							"host": ["{{base_url}}"],
							"path": ["auth", "logout", ""]
						},
						"description": "Logout and blacklist the refresh token."
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/profile/",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile", ""]
						},
						"description": "Get the current user's profile."
					},
					"response": []
				},
				{
					"name": "Update Profile",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"Updated\",\n    \"last_name\": \"Name\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/profile/",
							"host": ["{{base_url}}"],
							"path": ["auth", "profile", ""]
						},
						"description": "Update the current user's profile."
					},
					"response": []
				},
				{
					"name": "Change Password",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"old_password\": \"admin123\",\n    \"new_password\": \"NewPass123!\",\n    \"new_password_confirm\": \"NewPass123!\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/change-password/",
							"host": ["{{base_url}}"],
							"path": ["auth", "change-password", ""]
						},
						"description": "Change the current user's password."
					},
					"response": []
				}
			]
		},
		{
			"name": "Tasks",
			"description": "Task management CRUD operations.",
			"item": [
				{
					"name": "List Tasks",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tasks/",
							"host": ["{{base_url}}"],
							"path": ["tasks", ""]
						},
						"description": "List all tasks. Regular users see only their tasks, admins see all."
					},
					"response": []
				},
				{
					"name": "List Tasks (with filters)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tasks/?status=pending&priority=high",
							"host": ["{{base_url}}"],
							"path": ["tasks", ""],
							"query": [
								{
									"key": "status",
									"value": "pending",
									"description": "Filter by status: pending, in_progress, completed, cancelled"
								},
								{
									"key": "priority",
									"value": "high",
									"description": "Filter by priority: low, medium, high"
								}
							]
						},
						"description": "List tasks with optional filters for status and priority."
					},
					"response": []
				},
				{
					"name": "Create Task",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Complete Backend Assignment\",\n    \"description\": \"Build a scalable REST API with authentication\",\n    \"priority\": \"high\",\n    \"due_date\": \"2026-02-15T18:00:00Z\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/tasks/",
							"host": ["{{base_url}}"],
							"path": ["tasks", ""]
						},
						"description": "Create a new task. The task is automatically assigned to the current user."
					},
					"response": []
				},
				{
					"name": "Get Task",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tasks/1/",
							"host": ["{{base_url}}"],
							"path": ["tasks", "1", ""]
						},
						"description": "Get details of a specific task."
					},
					"response": []
				},
				{
					"name": "Update Task (Full)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"Updated Task Title\",\n    \"description\": \"Updated description\",\n    \"status\": \"in_progress\",\n    \"priority\": \"high\",\n    \"due_date\": \"2026-02-20T18:00:00Z\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/tasks/1/",
							"host": ["{{base_url}}"],
							"path": ["tasks", "1", ""]
						},
						"description": "Full update of a task."
					},
					"response": []
				},
				{
					"name": "Update Task (Partial)",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"completed\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/tasks/1/",
							"host": ["{{base_url}}"],
							"path": ["tasks", "1", ""]
						},
						"description": "Partial update of a task (e.g., update only status)."
					},
					"response": []
				},
				{
					"name": "Delete Task",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tasks/1/",
							"host": ["{{base_url}}"],
							"path": ["tasks", "1", ""]
						},
						"description": "Delete a task. Users can only delete their own tasks, admins can delete any."
					},
					"response": []
				},
				{
					"name": "Get Task Statistics",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tasks/stats/",
							"host": ["{{base_url}}"],
							"path": ["tasks", "stats", ""]
						},
						"description": "Get task statistics (total, pending, in_progress, completed, cancelled)."
					},
					"response": []
				}
			]
		},
		{
			"name": "Admin",
			"description": "Admin-only endpoints for managing users and all tasks.",
			"item": [
				{
					"name": "List All Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/admin/users/",
							"host": ["{{base_url}}"],
							"path": ["auth", "admin", "users", ""]
						},
						"description": "List all users in the system. Admin only."
					},
					"response": []
				},
				{
					"name": "Get User Details",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/admin/users/1/",
							"host": ["{{base_url}}"],
							"path": ["auth", "admin", "users", "1", ""]
						},
						"description": "Get details of a specific user. Admin only."
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"role\": \"admin\",\n    \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/admin/users/2/",
							"host": ["{{base_url}}"],
							"path": ["auth", "admin", "users", "2", ""]
						},
						"description": "Update a user's role or status. Admin only."
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/admin/users/2/",
							"host": ["{{base_url}}"],
							"path": ["auth", "admin", "users", "2", ""]
						},
						"description": "Delete a user. Admin only. Cannot delete self."
					},
					"response": []
				},
				{
					"name": "List All Tasks (Admin)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tasks/admin/all/",
							"host": ["{{base_url}}"],
							"path": ["tasks", "admin", "all", ""]
						},
						"description": "List all tasks in the system. Admin only."
					},
					"response": []
				},
				{
					"name": "Delete Any Task (Admin)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tasks/admin/1/delete/",
							"host": ["{{base_url}}"],
							"path": ["tasks", "admin", "1", "delete", ""]
						},
						"description": "Delete any task regardless of owner. Admin only."
					},
					"response": []
				}
			]
		}
	]
}
